{"version":3,"file":"getVideoFrameCanvas.js","sources":["../../../../src/helpers/snapshot/getVideoFrameCanvas.ts"],"sourcesContent":["export interface GetVideoFrameCanvasOptions {\r\n  imageSmoothingEnabled?: boolean;\r\n  mirrored?: boolean;\r\n  height?: number;\r\n  width?: number;\r\n}\r\n\r\n/**\r\n * Returns a canvas with a drawn image of the current video stream frame in accordance with the passed options\r\n *\r\n * @param {HTMLVideoElement} source - video element instance with provided media stream\r\n * @param {GetVideoFrameCanvasOptions} options - options for getting video frame canvas\r\n * @return {HTMLCanvasElement | undefined} video stream frame canvas\r\n */\r\nexport const getVideoFrameCanvas = (\r\n  source: HTMLVideoElement,\r\n  { imageSmoothingEnabled = true, mirrored, ...options }: GetVideoFrameCanvasOptions = {}\r\n) => {\r\n  const { videoWidth: canvasWidth, videoHeight: canvasHeight } = source;\r\n\r\n  const canvas = document.createElement('canvas');\r\n  canvas.width = options.width ?? canvasWidth;\r\n  canvas.height = options.height ?? canvasHeight;\r\n\r\n  const context = canvas.getContext('2d');\r\n  if (!context) return;\r\n\r\n  if (mirrored) {\r\n    context.translate(canvas.width, 0);\r\n    context.scale(-1, 1);\r\n  }\r\n\r\n  context.imageSmoothingEnabled = imageSmoothingEnabled;\r\n  context.drawImage(source, 0, 0, canvas.width, canvas.height);\r\n\r\n  if (mirrored) {\r\n    context.scale(-1, 1);\r\n    context.translate(-canvas.width, 0);\r\n  }\r\n\r\n  return canvas;\r\n};\r\n"],"names":["source","_options$width","_options$height","_ref","arguments","length","undefined","_ref$imageSmoothingEn","imageSmoothingEnabled","mirrored","options","_objectWithoutProperties","_excluded","canvasWidth","videoWidth","canvasHeight","videoHeight","canvas","document","createElement","width","height","context","getContext","translate","scale","drawImage"],"mappings":";6IAcmC,SACjCA,GAEG,IAAAC,EAAAC,EAAAC,EAAAC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADkF,CAAE,EAAAG,EAAAJ,EAArFK,sBAAAA,OAAwB,IAAHD,GAAOA,EAAEE,EAAQN,EAARM,SAAaC,EAAOC,EAAAA,yBAAAR,EAAAS,GAEhCC,EAA2Cb,EAAvDc,WAAsCC,EAAiBf,EAA9BgB,YAE3BC,EAASC,SAASC,cAAc,UACtCF,EAAOG,MAAqBnB,QAAhBA,EAAGS,EAAQU,aAAKnB,IAAAA,EAAAA,EAAIY,EAChCI,EAAOI,OAAuBnB,QAAjBA,EAAGQ,EAAQW,cAAMnB,IAAAA,EAAAA,EAAIa,EAElC,IAAMO,EAAUL,EAAOM,WAAW,MAClC,GAAKD,EAeL,OAbIb,IACFa,EAAQE,UAAUP,EAAOG,MAAO,GAChCE,EAAQG,OAAO,EAAG,IAGpBH,EAAQd,sBAAwBA,EAChCc,EAAQI,UAAU1B,EAAQ,EAAG,EAAGiB,EAAOG,MAAOH,EAAOI,QAEjDZ,IACFa,EAAQG,OAAO,EAAG,GAClBH,EAAQE,WAAWP,EAAOG,MAAO,IAG5BH,CACT"}