/* @license @webcam/core v0.0.0 */
"use strict";var e=require("../../_rollupPluginBabelHelpers-b8002e8b.js"),r=require("../constraints/getMediaStreamConstraints.js"),t=require("./canGetUserMedia.js"),n=require("./getUserMedia.js");require("../constraints/getConstraintsBySource.js"),require("../getMediaTrackSources.js"),require("../constraints/getVideoTrackConstraints.js"),require("../getMainCamera.js"),require("./hasGetUserMedia.js");var a=function(){var a=e._asyncToGenerator(e._regeneratorRuntime().mark((function a(s,i){var o,u;return e._regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.canGetUserMedia()){e.next=2;break}throw new Error("Method getUserMedia of Navigator is not supported");case 2:return e.next=4,r.getMediaStreamConstraints(s);case 4:if(u=e.sent,!i){e.next=11;break}return e.next=8,new Promise((function(e,r){var t=setTimeout((function(){r(new Error("User media request has reached the specified time limit"))}),i);n.getUserMedia(u).then((function(r){return clearTimeout(t),e(r)})).catch((function(e){clearTimeout(t),r(e)}))}));case 8:o=e.sent,e.next=14;break;case 11:return e.next=13,n.getUserMedia(u);case 13:o=e.sent;case 14:if(o){e.next=16;break}throw new Error("Stream of media content was not found");case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}}),a)})));return function(e,r){return a.apply(this,arguments)}}();exports.getMediaStream=a;
//# sourceMappingURL=getMediaStream.js.map
