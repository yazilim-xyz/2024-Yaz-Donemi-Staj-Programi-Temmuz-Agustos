{"version":3,"file":"stopMediaStream.js","sources":["../../../../src/helpers/stream/stopMediaStream.ts"],"sourcesContent":["/**\r\n * Stops and removes audio and video tracks from the stream\r\n *\r\n * @return {void}\r\n */\r\nexport const stopMediaStream = (stream?: MediaStreamTrack | MediaStream) => {\r\n  if (!stream) return;\r\n\r\n  if (stream instanceof MediaStreamTrack) {\r\n    stream.stop();\r\n    return;\r\n  }\r\n\r\n  if (stream.getVideoTracks && stream.getAudioTracks) {\r\n    stream.getVideoTracks().forEach((track) => {\r\n      stream.removeTrack(track);\r\n      track.stop();\r\n    });\r\n    stream.getAudioTracks().forEach((track) => {\r\n      stream.removeTrack(track);\r\n      track.stop();\r\n    });\r\n\r\n    return;\r\n  }\r\n\r\n  // âœ… important\r\n  // If previous methods aren't supported by the browser\r\n  if (stream.getTracks) {\r\n    stream.getTracks().forEach((track) => {\r\n      stream.removeTrack(track);\r\n      track.stop();\r\n    });\r\n  }\r\n};\r\n"],"names":["stream","MediaStreamTrack","getVideoTracks","getAudioTracks","forEach","track","removeTrack","stop","getTracks"],"mappings":";qCAK+B,SAACA,GAC9B,GAAKA,EAAL,CAEA,KAAIA,aAAkBC,kBAKtB,OAAID,EAAOE,gBAAkBF,EAAOG,gBAClCH,EAAOE,iBAAiBE,SAAQ,SAACC,GAC/BL,EAAOM,YAAYD,GACnBA,EAAME,MACR,SACAP,EAAOG,iBAAiBC,SAAQ,SAACC,GAC/BL,EAAOM,YAAYD,GACnBA,EAAME,MACR,UAOEP,EAAOQ,WACTR,EAAOQ,YAAYJ,SAAQ,SAACC,GAC1BL,EAAOM,YAAYD,GACnBA,EAAME,MACR,KAvBAP,EAAOO,MAHI,CA4Bf"}