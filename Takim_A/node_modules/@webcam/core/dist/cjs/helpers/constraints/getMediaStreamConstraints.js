/* @license @webcam/core v0.0.0 */
"use strict";var e=require("../../_rollupPluginBabelHelpers-b8002e8b.js"),r=require("./getConstraintsBySource.js"),t=require("./getVideoTrackConstraints.js");require("../getMediaTrackSources.js"),require("../getMainCamera.js");var i=["video","audio"],o=["muted"],a=function(){var a=e._asyncToGenerator(e._regeneratorRuntime().mark((function a(){var n,s,u,c,d,v,p,g,b,j,_,f,m,k,l,x,S,C=arguments;return e._regeneratorRuntime().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=(n=C.length>0&&void 0!==C[0]?C[0]:{}).constraints,c=(u=void 0===s?{}:s).video,d=void 0===c||c,v=u.audio,p=void 0!==v&&v,g=e._objectWithoutProperties(u,i),b=n.options,_=(j=void 0===b?{}:b).muted,f=void 0!==_&&_,m=e._objectWithoutProperties(j,o),!("mediaDevices"in navigator)){a.next=9;break}if(l=p,!d){a.next=7;break}return a.next=6,t.getVideoTrackConstraints("object"===e._typeof(d)?d:{},m);case 6:k=a.sent;case 7:a.next=14;break;case 9:return a.next=11,r.getConstraintsBySource({video:d,audio:p});case 11:x=a.sent,l=x.audio,k=x.video;case 14:return S=e._objectSpread2(e._objectSpread2(e._objectSpread2({},g),!f&&{audio:void 0===l||l}),{},{video:void 0===k||k}),a.abrupt("return",S);case 16:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();exports.getMediaStreamConstraints=a;
//# sourceMappingURL=getMediaStreamConstraints.js.map
