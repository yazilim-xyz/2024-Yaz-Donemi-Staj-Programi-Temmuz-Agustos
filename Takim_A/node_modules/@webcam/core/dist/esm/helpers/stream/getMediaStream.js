/* @license @webcam/core v0.0.0 */
import{_ as e,a as r}from"../../_rollupPluginBabelHelpers-59ed2110.js";import{getMediaStreamConstraints as t}from"../constraints/getMediaStreamConstraints.js";import{canGetUserMedia as n}from"./canGetUserMedia.js";import{getUserMedia as a}from"./getUserMedia.js";import"../constraints/getConstraintsBySource.js";import"../getMediaTrackSources.js";import"../constraints/getVideoTrackConstraints.js";import"../getMainCamera.js";import"./hasGetUserMedia.js";var s=function(){var s=e(r().mark((function e(s,o){var i,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n()){e.next=2;break}throw new Error("Method getUserMedia of Navigator is not supported");case 2:return e.next=4,t(s);case 4:if(c=e.sent,!o){e.next=11;break}return e.next=8,new Promise((function(e,r){var t=setTimeout((function(){r(new Error("User media request has reached the specified time limit"))}),o);a(c).then((function(r){return clearTimeout(t),e(r)})).catch((function(e){clearTimeout(t),r(e)}))}));case 8:i=e.sent,e.next=14;break;case 11:return e.next=13,a(c);case 13:i=e.sent;case 14:if(i){e.next=16;break}throw new Error("Stream of media content was not found");case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})));return function(e,r){return s.apply(this,arguments)}}();export{s as getMediaStream};
//# sourceMappingURL=getMediaStream.js.map
