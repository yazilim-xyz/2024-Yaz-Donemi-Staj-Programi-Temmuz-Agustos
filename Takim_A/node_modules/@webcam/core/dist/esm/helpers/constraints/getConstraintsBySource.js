/* @license @webcam/core v0.0.0 */
import{_ as r,a as e,d as i}from"../../_rollupPluginBabelHelpers-59ed2110.js";import{getMediaTrackSources as n}from"../getMediaTrackSources.js";var a=function(r){if(r)return{optional:[{sourceId:r}]}},t=function(r){if("object"===i(r)){var e=r.deviceId;return"string"==typeof e?e:Array.isArray(e)?e[0]:"object"===i(e)&&e.ideal?Array.isArray(e.ideal)?e.ideal[0]:e.ideal:void 0}},o=function(){var i=r(e().mark((function r(i){var o,u,d,c,s,f;return e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o={video:void 0,audio:void 0},r.next=3,n();case 3:if(u=r.sent){r.next=6;break}return r.abrupt("return",o);case 6:return u.forEach((function(r){"video"!==r.kind?"audio"===r.kind&&(c=r.id):d=r.id})),s=t(i.video),f=t(i.audio),o.audio=a(null!=s?s:d),o.video=a(null!=f?f:c),r.abrupt("return",o);case 12:case"end":return r.stop()}}),r)})));return function(r){return i.apply(this,arguments)}}();export{o as getConstraintsBySource};
//# sourceMappingURL=getConstraintsBySource.js.map
