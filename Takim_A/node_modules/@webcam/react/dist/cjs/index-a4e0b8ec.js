/* @license @webcam/react v0.0.0 */
"use strict";var e=require("./components/Webcam/hooks/useWebcam.js"),t=require("./useMediaStream-4231673b.js"),r=require("react"),a=["imageSmoothingEnabled","mirrored"],o=function(e){var r,o,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.imageSmoothingEnabled,m=void 0===i||i,s=n.mirrored,d=t.u$1(n,a),u=e.videoWidth,c=e.videoHeight,l=document.createElement("canvas");l.width=null!==(r=d.width)&&void 0!==r?r:u,l.height=null!==(o=d.height)&&void 0!==o?o:c;var p=l.getContext("2d");if(p)return s&&(p.translate(l.width,0),p.scale(-1,1)),p.imageSmoothingEnabled=m,p.drawImage(e,0,0,l.width,l.height),s&&(p.scale(-1,1),p.translate(-l.width,0)),l},n=["format","quality"],i=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.format,i=void 0===a?"image/jpeg":a,m=r.quality,s=void 0===m?1:m,d=t.u$1(r,n),u=o(e,d);if(u)return u.toDataURL(i,s)},m=["innerRef","stream","cameraResolutionMode","cameraResolutionType","videoConstraints","audioConstraints","requestTimeLimit","applyConstraints","frontCamera","mainCamera","mirrored","muted","style","children","onLoadedMetadata","onStreamRequest","onStreamError","onStreamStart","onStreamStop"];exports.Webcam=function(a){var n=a.innerRef,s=a.stream,d=a.cameraResolutionMode,u=a.cameraResolutionType,c=a.videoConstraints,l=a.audioConstraints,p=a.requestTimeLimit,S=a.applyConstraints,f=a.frontCamera,v=a.mainCamera,h=a.mirrored,g=void 0===h||h,C=a.muted,b=void 0===C||C,y=a.style,R=void 0===y?{}:y,q=a.children,E=a.onLoadedMetadata,j=a.onStreamRequest,_=a.onStreamError,L=a.onStreamStart,M=a.onStreamStop,T=t._objectWithoutProperties(a,m),w=r.useRef(null),W=null!=n?n:w,x=e.useWebcam(W,s?{disable:!0}:{applyConstraints:S,requestTimeLimit:p,onStreamRequest:j,onStreamError:_,onStreamStart:L,onStreamStop:M,videoConstraints:c,audioConstraints:l,cameraResolutionMode:d,cameraResolutionType:u,frontCamera:f,mainCamera:v,muted:b});return r.useEffect((function(){if(s)return x.start(s),function(){x.stop(s)}}),[s]),r.createElement(r.Fragment,null,r.createElement("video",t._extends({autoPlay:!0,playsInline:!0,muted:b,ref:W,controls:!1,src:x.source,onLoadedMetadata:function(e){null==E||E(e),e.currentTarget.play()},style:t._objectSpread2(t._objectSpread2({},R),g&&{transform:"".concat(R.transform?"".concat(R.transform," "):"","scaleX(-1)")})},T)),"function"==typeof q?q({videoElement:W.current,getCanvas:function(e){return W.current?o(W.current,t._objectSpread2(t._objectSpread2({},e),{},{mirrored:g})):void 0},getSnapshot:function(e){return W.current?i(W.current,t._objectSpread2(t._objectSpread2({},e),{},{mirrored:g})):void 0}}):q)},exports.t=o,exports.t$1=i;
//# sourceMappingURL=index-a4e0b8ec.js.map
