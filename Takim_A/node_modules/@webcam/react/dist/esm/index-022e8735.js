/* @license @webcam/react v0.0.0 */
import{useWebcam as t}from"./components/Webcam/hooks/useWebcam.js";import{b as e,_ as r,c as a,d as o}from"./useMediaStream-4f24b75b.js";import n,{useRef as i,useEffect as m}from"react";
/* @license @webcam/core v0.0.0 */var s=["imageSmoothingEnabled","mirrored"],d=function(t){var r,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o.imageSmoothingEnabled,i=void 0===n||n,m=o.mirrored,d=e(o,s),u=t.videoWidth,l=t.videoHeight,c=document.createElement("canvas");c.width=null!==(r=d.width)&&void 0!==r?r:u,c.height=null!==(a=d.height)&&void 0!==a?a:l;var f=c.getContext("2d");if(f)return m&&(f.translate(c.width,0),f.scale(-1,1)),f.imageSmoothingEnabled=i,f.drawImage(t,0,0,c.width,c.height),m&&(f.scale(-1,1),f.translate(-c.width,0)),c},u=["format","quality"],l=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.format,o=void 0===a?"image/jpeg":a,n=r.quality,i=void 0===n?1:n,m=e(r,u),s=d(t,m);if(s)return s.toDataURL(o,i)},c=["innerRef","stream","cameraResolutionMode","cameraResolutionType","videoConstraints","audioConstraints","requestTimeLimit","applyConstraints","frontCamera","mainCamera","mirrored","muted","style","children","onLoadedMetadata","onStreamRequest","onStreamError","onStreamStart","onStreamStop"],f=function(e){var s=e.innerRef,u=e.stream,f=e.cameraResolutionMode,v=e.cameraResolutionType,p=e.videoConstraints,S=e.audioConstraints,h=e.requestTimeLimit,g=e.applyConstraints,C=e.frontCamera,y=e.mainCamera,R=e.mirrored,E=void 0===R||R,q=e.muted,b=void 0===q||q,L=e.style,M=void 0===L?{}:L,T=e.children,w=e.onLoadedMetadata,W=e.onStreamRequest,j=e.onStreamError,x=e.onStreamStart,I=e.onStreamStop,k=r(e,c),D=i(null),F=null!=s?s:D,H=t(F,u?{disable:!0}:{applyConstraints:g,requestTimeLimit:h,onStreamRequest:W,onStreamError:j,onStreamStart:x,onStreamStop:I,videoConstraints:p,audioConstraints:S,cameraResolutionMode:f,cameraResolutionType:v,frontCamera:C,mainCamera:y,muted:b});return m((function(){if(u)return H.start(u),function(){H.stop(u)}}),[u]),n.createElement(n.Fragment,null,n.createElement("video",a({autoPlay:!0,playsInline:!0,muted:b,ref:F,controls:!1,src:H.source,onLoadedMetadata:function(t){null==w||w(t),t.currentTarget.play()},style:o(o({},M),E&&{transform:"".concat(M.transform?"".concat(M.transform," "):"","scaleX(-1)")})},k)),"function"==typeof T?T({videoElement:F.current,getCanvas:function(t){return F.current?d(F.current,o(o({},t),{},{mirrored:E})):void 0},getSnapshot:function(t){return F.current?l(F.current,o(o({},t),{},{mirrored:E})):void 0}}):T)};
/* @license @webcam/core v0.0.0 */export{f as W,l as a,d as t};
//# sourceMappingURL=index-022e8735.js.map
